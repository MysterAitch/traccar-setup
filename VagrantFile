# -*- mode: ruby -*-
# vi: set ft=ruby :

%x(vagrant plugin install vagrant-vbguest) unless Vagrant.has_plugin?('vagrant-vbguest')


Vagrant.configure("2") do |config|

    config.vm.define "traccar" do |node|

        ## Use base canonical image.
        node.vm.box = "ubuntu/xenial64"

        ## Resources
        node.vm.provider "virtualbox" do |v|
          #v.name = "traccar_ubuntu"
          v.memory = 1024
          v.cpus = 1
        end

        ## Networking
        node.vm.network :private_network, ip: "192.168.99.10"

        ## Server setup / provisioning
        node.vm.provision "shell", path: "scripts/run_all_from_github.sh"
        #node.vm.provision "shell", path: "scripts/run_all.sh"
    end
end